<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graduation Journal üéì</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Gochi+Hand&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/page-flip/dist/js/page-flip.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        /* --- STYLE UTAMA --- */
        :root {
            --denim-dark: #2c3e50;
            --denim-light: #5d7ba8;
            --pastel-blue: #bfdbfe;
            --coquette-white: #ffffff;
            --gingham-blue: #a3bcf2;
            --love-pink: #ffc8dd;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Nunito', sans-serif; }
        
        body {
            background-image: url('background.jpg'); 
            background-size: cover;
            background-position: center;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; 
            backdrop-filter: brightness(0.9);
        }

        /* --- FRAME KOTAK-KOTAK (HOME) --- */
        .gingham-frame {
            background-color: #eff6ff;
            background-image: 
                linear-gradient(90deg, rgba(59, 130, 246, 0.15) 50%, transparent 50%),
                linear-gradient(rgba(59, 130, 246, 0.15) 50%, transparent 50%);
            background-size: 20px 20px;
            padding: 15px;
            border-radius: 15px;
            box-shadow: 5px 5px 0px rgba(0,0,0,0.2);
            border: 2px solid #fff;
            position: relative;
            margin-bottom: 20px;
            transform: rotate(-1deg);
            transition: 0.3s;
            cursor: pointer;
        }
        
        .gingham-frame:hover { transform: scale(1.02) rotate(0deg); }

        .gingham-frame .photo-area {
            background: white;
            padding: 8px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        .gingham-frame img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 6px;
            display: block;
        }

        .gingham-frame::after {
            content: '‚úñ';
            display: flex; justify-content: center; align-items: center;
            color: rgba(255,255,255,0.8); font-size: 12px;
            position: absolute;
            bottom: -10px; right: -5px;
            width: 35px; height: 35px;
            background: #3b82f6;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }
        .ribbon-deco {
            position: absolute; top: -15px; left: -10px; font-size: 2.5rem;
            filter: drop-shadow(2px 4px 0 rgba(0,0,0,0.1)); z-index: 10;
        }

        /* --- KALENDER STYLE --- */
        .calendar-widget {
            background: white;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            border: 2px dashed #bfdbfe;
            margin-bottom: 20px;
            text-align: center;
        }
        .calendar-header {
            font-family: 'Gochi Hand';
            font-size: 1.2rem;
            color: #1e3a8a;
            margin-bottom: 10px;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            font-size: 0.8rem;
            color: #555;
        }
        .day-name { font-weight: bold; color: #888; font-size: 0.7rem; }
        .date-item { 
            padding: 5px; 
            border-radius: 5px; 
            position: relative;
        }
        
        .date-item.special {
            background-color: var(--love-pink);
            color: #e11d48;
            font-weight: bold;
            animation: pulse 2s infinite;
        }
        .date-item.special::after {
            content: '‚ù§Ô∏è';
            position: absolute;
            top: -8px;
            right: -5px;
            font-size: 10px;
        }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

        /* --- HP CASE (CONTAINER UTAMA) --- */
        .phone-case {
            width: 360px; height: 720px;
            background: #fff;
            border-radius: 45px;
            padding: 12px;
            box-shadow: 0 0 0 8px #dbeafe, 0 30px 60px rgba(0,0,0,0.6);
            position: relative;
            display: none; 
            animation: popUp 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            z-index: 10;
        }
        @keyframes popUp { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        .screen {
            width: 100%; height: 100%;
            border-radius: 35px;
            overflow: hidden;
            position: relative;
            display: flex; flex-direction: column;
            background-image: url('wallpaper.jpg'); 
            background-size: cover;
            background-position: center;
        }

        /* Header */
        .app-header {
            flex-shrink: 0;
            padding: 40px 20px 15px;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(8px);
            display: flex; justify-content: space-between; align-items: center;
            z-index: 50;
            border-bottom: 1px solid rgba(255,255,255,0.5);
        }
        .app-header span { font-family: 'Gochi Hand', cursive; font-size: 1.5rem; color: #1e3a8a; font-weight: bold; }

        /* --- CONTENT AREA --- */
        .content-area {
            flex-grow: 1;
            overflow-y: auto;
            overflow-x: hidden;
            padding: 20px;
            padding-bottom: 100px;
            background-color: #f0f8ff; 
            background-image: 
                linear-gradient(#e0e7eb 1px, transparent 1px),
                linear-gradient(90deg, #e0e7eb 1px, transparent 1px);
            background-size: 20px 20px;

            -ms-overflow-style: none;  
            scrollbar-width: none;  
        }
        .content-area::-webkit-scrollbar {
            display: none;
        }

        /* --- CSS KHUSUS COVER JURNAL --- */
        .page.journal-cover {
            background-color: #eff6ff;
            background-image: 
                linear-gradient(90deg, rgba(147, 197, 253, 0.3) 50%, transparent 50%),
                linear-gradient(rgba(147, 197, 253, 0.3) 50%, transparent 50%);
            background-size: 20px 20px;
            border: none;
            display: flex; 
            justify-content: center; 
            align-items: center;
        }
        
        .cover-card {
            background: white;
            width: 85%;
            height: auto;
            padding: 25px 15px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center;
            position: relative;
            border: 4px double #5d7ba8; 
        }

        .ribbon-cover {
            position: absolute;
            top: -20px;
            right: -15px;
            font-size: 3rem;
            transform: rotate(15deg);
            filter: drop-shadow(2px 4px 2px rgba(0,0,0,0.15));
            z-index: 10;
        }

        .cover-card h1 {
            font-family: 'Dancing Script'; 
            font-size: 2.5rem; 
            color: #1e3a8a; 
            margin: 0; 
            line-height: 1.2;
            text-align: center;
        }
        
        .cover-card p {
            font-family: 'Nunito'; 
            font-size: 0.8rem; 
            color: #64748b; 
            margin-top: 10px; 
            font-weight: bold; 
            letter-spacing: 2px;
        }

        /* --- LOCKSCREEN --- */
        .lockscreen {
            position: absolute; z-index: 9999;
            width: 360px; height: 720px;
            padding: 30px;
            background-image: linear-gradient(rgba(30, 58, 138, 0.75), rgba(30, 58, 138, 0.75)), url('background.jpg'); 
            background-size: cover;
            background-position: center;
            border-radius: 45px;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            border: 4px solid #dbeafe;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: white;
        }
        .lockscreen.hidden { display: none; }
        
        .profile-lock {
            background-image: url('foto.jpg'); 
            background-size: cover;
            background-position: center;
            width: 120px; height: 120px; border-radius: 50%;
            border: 4px solid rgba(255,255,255,0.8);
            box-shadow: 0 5px 25px rgba(0,0,0,0.3);
            margin-bottom: 20px;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .profile-lock:hover { transform: scale(1.1); }

        .pin-dots { letter-spacing: 10px; font-size: 2rem; color: white; min-height: 40px; margin-bottom: 20px; font-weight: bold;}
        
        .numpad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 10px; width: 100%; max-width: 260px; }
        .num-btn {
            padding: 18px; border-radius: 50%; border: 1px solid rgba(255,255,255,0.3);
            background: rgba(255, 255, 255, 0.2); color: white;
            backdrop-filter: blur(5px);
            font-size: 1.3rem; font-weight: bold; cursor: pointer;
            transition: 0.2s;
        }
        .num-btn:active { transform: scale(0.9); background: rgba(255,255,255,0.5); }

        /* --- TABS --- */
        .tab-content { display: none; height: 100%; }
        .tab-content.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .aesthetic-text {
            background: white;
            padding: 15px; border-radius: 15px; border: 2px dashed #bfdbfe;
            color: #475569; font-size: 0.95rem; line-height: 1.6;
            box-shadow: 5px 5px 0 rgba(191, 219, 254, 0.6); margin-bottom: 20px;
        }

        /* --- JOURNAL (FLIPBOOK) --- */
        #flipbook-wrapper {
            display: flex; justify-content: center; align-items: flex-start;
            height: auto; 
            width: 100%;
            padding-top: 0px;
            padding-bottom: 10px;
        }
        
        .page {
            background-color: #fff;
            background-image: 
                linear-gradient(#e5e7eb 1px, transparent 1px),
                linear-gradient(90deg, #e5e7eb 1px, transparent 1px);
            background-size: 20px 20px;
            border: 1px solid #d1d5db;
            overflow: hidden;
            position: relative;
        }
        .page::after {
            content: ''; position: absolute; top: 0; bottom: 0; width: 15px;
            z-index: 20; pointer-events: none;
        }
        .page.--left::after {
            right: 0; background: linear-gradient(to left, rgba(0,0,0,0.15), transparent);
            border-right: 1px solid #ccc;
        }
        .page.--right::after {
            left: 0; background: linear-gradient(to right, rgba(0,0,0,0.15), transparent);
            border-left: 1px solid #ccc;
        }

        .page-content {
            margin: 8px; 
            padding: 10px;
            height: calc(100% - 16px); 
            display: flex; flex-direction: column; align-items: center;
            justify-content: flex-start;
            text-align: center;
            background: rgba(255,255,255,0.7);
            border: 2px dashed #5d7ba8; 
            border-radius: 10px;
        }

        .polaroid-container {
            background: white; 
            padding: 5px 5px 25px 5px; 
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
            transform: rotate(calc(var(--rotation-deg) * 1deg));
            width: 90%; 
            margin: 8px auto; 
            border: 1px solid #ddd;
            cursor: pointer; 
            transition: transform 0.2s;
        }
        
        .polaroid-container img {
            width: 100%;
            height: 125px; 
            object-fit: cover; 
            border-radius: 2px;
            display: block;
            border: 1px solid #f0f0f0;
        }

        .polaroid-container:active { transform: scale(0.95) rotate(0deg); }
        
        .sticker { 
            font-size: 1.5rem; position: absolute; z-index: 5; 
            filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.1)); 
            cursor: pointer;
            transition: 0.2s;
        }
        .sticker:hover { transform: scale(1.2); }

        .tape {
            width: 70px; height: 12px;
            background: rgba(191, 219, 254, 0.7);
            position: absolute; transform: rotate(-5deg);
            backdrop-filter: blur(2px);
            border-left: 2px dotted white; border-right: 2px dotted white;
        }
        
        .journal-date { font-family: 'Nunito'; font-size: 0.7rem; color: #888; margin-bottom: 2px; font-weight: bold; letter-spacing: 1px;}

        /* --- MUSIC CARD --- */
        .music-card {
            background: rgba(255,255,255,0.9);
            border-radius: 20px; padding: 15px;
            display: flex; align-items: center; gap: 15px;
            margin-bottom: 15px; border: 1px solid white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05); cursor: pointer;
            transition: 0.2s;
        }
        .music-card:hover { transform: scale(1.02); background: white; }
        .music-card.active-song { border: 2px solid #5d7ba8; background: #eff6ff; }

        .disc-icon { font-size: 2rem; animation: spin 4s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        
        /* --- VISUALISASI VINYL --- */
        .now-playing-container {
            margin-top: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding-bottom: 20px;
        }

        .vinyl-record {
            width: 160px;
            height: 160px;
            background: #1e293b;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border: 4px solid #f8fafc;
            position: relative;
            animation: spin 5s linear infinite;
            animation-play-state: paused; 
        }
        
        .vinyl-record::after {
            content: '';
            position: absolute;
            width: 90%; height: 90%;
            border-radius: 50%;
            border: 2px solid rgba(255,255,255,0.1);
            pointer-events: none;
        }
        
        .vinyl-record.spinning {
            animation-play-state: running;
        }

        .vinyl-label {
            width: 60px;
            height: 60px;
            background: #ffc8dd;
            border-radius: 50%;
            background-image: url('foto.jpg'); 
            background-size: cover;
            background-position: center;
            border: 3px solid white;
        }

        .now-playing-text {
            margin-top: 15px;
            font-family: 'Gochi Hand', cursive;
            font-size: 1.1rem;
            color: #1e3a8a;
            font-weight: bold;
            text-align: center;
        }

        /* --- NAV BAR --- */
        .nav-bar {
            position: absolute; bottom: 20px; left: 20px; right: 20px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 12px 25px; border-radius: 30px;
            display: flex; justify-content: space-between;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); border: 1px solid rgba(255,255,255,1);
            z-index: 999;
        }
        .nav-btn { font-size: 1.4rem; background: none; border: none; cursor: pointer; transition: 0.3s; opacity: 0.5; }
        .nav-btn.active { opacity: 1; transform: scale(1.2); }

        /* TOAST NOTIFICATION */
        #toast-box {
            position: absolute; top: 80px; left: 50%; transform: translateX(-50%);
            background: rgba(30, 58, 138, 0.9); color: white;
            padding: 10px 20px; border-radius: 20px; font-size: 0.85rem;
            z-index: 100; opacity: 0; transition: opacity 0.3s; pointer-events: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            white-space: nowrap;
        }
        #toast-box.show { opacity: 1; top: 90px; }

    </style>
</head>
<body>

    <audio id="bg-music" loop>
        <source id="audio-source" src="" type="audio/mpeg">
    </audio>

    <div id="toast-box">‚ú® Pesan Rahasia Muncul! ‚ú®</div>

    <div class="lockscreen" id="lockScreen">
        <div class="profile-lock" onclick="showSurprise('Masukin PIN: 2010')"></div>
        
        <h2 style="font-family:'Dancing Script'; font-size: 2rem; margin-bottom:5px;">Hello, Bestie! üéÄ</h2>
        <p style="font-size:0.8rem; margin-bottom:15px; opacity: 0.8;">Enter PIN: 2010</p>
        
        <div class="pin-dots" id="pinDisplay"></div>
        
        <div class="numpad">
            <button class="num-btn" onclick="addPin('1')">1</button>
            <button class="num-btn" onclick="addPin('2')">2</button>
            <button class="num-btn" onclick="addPin('3')">3</button>
            <button class="num-btn" onclick="addPin('4')">4</button>
            <button class="num-btn" onclick="addPin('5')">5</button>
            <button class="num-btn" onclick="addPin('6')">6</button>
            <button class="num-btn" onclick="addPin('7')">7</button>
            <button class="num-btn" onclick="addPin('8')">8</button>
            <button class="num-btn" onclick="addPin('9')">9</button>
            <button class="num-btn" style="color:#ff9999" onclick="clearPin()">C</button>
            <button class="num-btn" onclick="addPin('0')">0</button>
            <button class="num-btn" style="background:rgba(191, 219, 254, 0.6)" onclick="checkPin()">‚ûú</button>
        </div>
    </div>

    <div class="phone-case" id="phoneCase">
        <div class="screen">
            <header class="app-header">
                <span>Happy Grad! ‚ú®</span>
                <button onclick="toggleMusic()" style="background:white; border:none; border-radius:50%; width:35px; height:35px; cursor:pointer;">üîä</button>
            </header>

            <div class="content-area">

                <div id="home" class="tab-content active">
                    <div class="gingham-frame" onclick="fireConfetti()">
                        <div class="ribbon-deco">üéÄ</div>
                        <div class="photo-area">
                            <img src="foto1.jpg" alt="Foto Home">
                        </div>
                        <h3 style="text-align:center; font-family:'Dancing Script'; margin-top:10px; color:#1e3a8a; font-size:1.5rem;">Halisah</h3>
                    </div>

                    <div class="calendar-widget">
                        <div class="calendar-header">üóìÔ∏è Graduation Day</div>
                        <div class="calendar-grid">
                            <div class="day-name">S</div><div class="day-name">M</div><div class="day-name">T</div><div class="day-name">W</div><div class="day-name">T</div><div class="day-name">F</div><div class="day-name">S</div>
                            <div class="date-item"></div><div class="date-item"></div><div class="date-item"></div><div class="date-item"></div><div class="date-item"></div><div class="date-item"></div><div class="date-item">1</div>
                            <div class="date-item">2</div><div class="date-item">3</div><div class="date-item">4</div><div class="date-item">5</div><div class="date-item">6</div><div class="date-item">7</div><div class="date-item">8</div>
                            <div class="date-item">9</div><div class="date-item">10</div><div class="date-item">11</div><div class="date-item">12</div><div class="date-item">13</div><div class="date-item">14</div><div class="date-item">15</div>
                            <div class="date-item">16</div><div class="date-item">17</div><div class="date-item">18</div><div class="date-item">19</div>
                            <div class="date-item special" onclick="showSurprise('Today is Your Day! üëã')">20</div>
                            <div class="date-item">21</div><div class="date-item">22</div>
                            <div class="date-item">23</div><div class="date-item">24</div><div class="date-item">25</div><div class="date-item">26</div><div class="date-item">27</div><div class="date-item">28</div><div class="date-item">29</div>
                            <div class="date-item">30</div>
                        </div>
                    </div>

                    <div class="aesthetic-text" onclick="showSurprise('Buka Journal yuk! üëá')">
                        <b>‚ú® Happy Graduation! ‚ú®</b><br>
                        Selamat udah lulus! <br>
                        Perjalanan panjang akhirnya kelar juga.<br>
                        Cek <b>Journal</b> kenangan kita di bawah! üëá
                    </div>
                </div>

                <div id="journal" class="tab-content">
                    <div id="flipbook-wrapper">
                        <div id="flipbook">
                            
                            <div class="page journal-cover">
                                <div class="cover-card">
                                    <div class="ribbon-cover">üéÄ</div>
                                    <h1>Our<br>Journey</h1>
                                    <p>Memories</p>
                                </div>
                            </div>

                            <div class="page">
                                <div class="page-content">
                                    <div class="tape" style="top:10px; left:20px; background:#ffb7b2;"></div>
                                    <div class="sticker" style="top:10px; right:10px;">üê£</div>
                                    
                                    <div class="journal-date">Awal Ketemu</div>
                                    <h3 style="font-family:'Gochi Hand'; color:#1e3a8a; margin:5px 0; font-size:1.2rem;">First Impression üë∂</h3>
                                    <div class="polaroid-container" style="--rotation-deg:-2;">
                                        <img src="foto2.jpg" alt="Foto Maba">
                                    </div>
                                    <p style="font-size:0.75rem; color:#444; margin-top:8px; line-height:1.4;">
                                        Liat tuh muka, masih polos banget kek kertas HVS. Belum terkontaminasi beban hidup perkuliahan.
                                    </p>
                                </div>
                            </div>

                            <div class="page">
                                <div class="page-content">
                                    <div class="tape" style="top:15px; right:20px; background:#a2d2ff; transform:rotate(5deg);"></div>
                                    <div class="sticker" style="bottom:10px; left:10px;">üçú</div>
                                    
                                    <div class="journal-date">Random Moment</div>
                                    <h3 style="font-family:'Gochi Hand'; color:#1e3a8a; margin:5px 0; font-size:1.2rem;">Hobi Kulineran üòã</h3>
                                    <div class="polaroid-container" style="--rotation-deg:2;">
                                        <img src="foto3.jpg" alt="Foto Dinas">
                                    </div>
                                    <p style="font-size:0.75rem; color:#444; margin-top:8px; line-height:1.4;">
                                        Lagi makan aja difoto. Diet cuma wacana, makan tetep laksana. Yang penting kenyang hati senang!
                                    </p>
                                </div>
                            </div>

                            <div class="page">
                                <div class="page-content">
                                    <div class="tape" style="top:10px; left:30px; background:#cdb4db; transform:rotate(-3deg);"></div>
                                    <h3 style="font-family:'Gochi Hand'; color:#1e3a8a; margin-top:15px; font-size:1.2rem;">Gaya Dikit üì∏</h3>
                                    <div class="polaroid-container" style="--rotation-deg:-3;">
                                        <img src="foto4.jpg" alt="Foto Capping Day">
                                    </div>
                                    <p style="font-size:0.75rem; color:#444; margin-top:8px; line-height:1.4;">
                                        Wajib banget foto kaca. Gaya nomor satu, urusan lain belakangan. Mumpung lagi cakep (padahal aslinya rempes).
                                    </p>
                                </div>
                            </div>
                            
                            <div class="page">
                                <div class="page-content">
                                    <div class="sticker" style="top:10px; right:10px;">üíª</div>
                                    <div class="tape" style="bottom:10px; right:10px; background:#bde0fe;"></div>
                                    <h3 style="font-family:'Gochi Hand'; color:#1e3a8a; margin:5px 0; font-size:1.2rem;">Pura-pura Sibuk üìâ</h3>
                                    <div class="polaroid-container" style="--rotation-deg:1;">
                                        <img src="foto5.jpg" alt="Foto Revisi">
                                    </div>
                                    <p style="font-size:0.75rem; color:#444; margin-top:8px; line-height:1.4;">
                                        Keliatannya sih ambis banget ya depan laptop. Padahal aslinya cuma scroll TikTok doang, tugas mah nanti aja SKS.
                                    </p>
                                </div>
                            </div>

                            <div class="page">
                                <div class="page-content">
                                    <div class="tape" style="top:10px; left:10px; background:#ffc8dd;"></div>
                                    <div class="sticker" style="top:10px; right:10px;">üéì</div>
                                    <h3 style="font-family:'Gochi Hand'; color:#1e3a8a; margin-top:15px; font-size:1.2rem;">Lulus Juga!</h3>
                                    <div class="polaroid-container" style="--rotation-deg:-2;">
                                        <img src="foto6.jpg" alt="Foto Wisuda">
                                    </div>
                                    <p style="font-size:0.75rem; color:#444; margin-top:8px; line-height:1.4;">
                                        Bye-bye drama kampus! Makasih udah nemenin sampe titik ini. Kita keren banget sih bisa lulus!
                                    </p>
                                </div>
                            </div>

                            <div class="page journal-cover" style="background-image: none; background-color: #e0f0ff; border:none; box-shadow:none;">
                                <div class="page-content" style="border: none; background: none; justify-content: space-between; padding-top: 20px;">
                                    <div class="sticker" style="top: 20px; left: 20px; font-size: 2.5rem; transform: rotate(-10deg);" onclick="fireConfetti()">‚ú®</div>
                                    <div class="tape" style="top: 30px; right: 20px; background: #b0e0e6; transform: rotate(8deg); width: 60px;"></div>

                                    <div>
                                        <h2 style="font-family:'Dancing Script'; font-size: 2.2rem; color:#1e3a8a; margin-bottom: 5px;">Happy<br>Graduation!</h2>
                                        <p style="font-size: 0.85rem; color: #5d7ba8; margin-bottom: 10px; font-weight: bold;">"The future belongs to those who believe in the beauty of their dreams."</p>
                                        <button onclick="fireConfetti()" style="padding: 8px 20px; background: #1e3a8a; color: white; border: none; border-radius: 20px; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2);">Celebration! üéâ</button>
                                    </div>

                                    <div class="polaroid-container" style="--rotation-deg: -5; width: 90%; margin-bottom: 10px; padding-bottom: 15px;">
                                        <img src="foto8.jpg" alt="Foto Akhir" style="height: 130px;">
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <div id="music" class="tab-content">
                    <h2 style="font-family:'Dancing Script'; color:#1e3a8a; margin-bottom:15px; text-align:center;">Healing Vibes üéß</h2>
                    
                    <div class="music-card" onclick="playSong('musik1')">
                        <div class="disc-icon">üíä</div>
                        <div>
                            <h4 style="color:#333;">kita ke sana</h4>
                            <p style="font-size:0.8rem; color:#888;">Hindia</p>
                        </div>
                    </div>

                    <div class="music-card" onclick="playSong('musik2')">
                        <div class="disc-icon" style="animation-duration:3s;">ü©∫</div>
                        <div>
                            <h4 style="color:#333;">best day of my life</h4>
                            <p style="font-size:0.8rem; color:#888;">American Authors</p>
                        </div>
                    </div>

                    <div class="music-card" onclick="playSong('musik3')">
                        <div class="disc-icon" style="animation-duration:5s;">ü©π</div>
                        <div>
                            <h4 style="color:#333;">Cantik</h4>
                            <p style="font-size:0.8rem; color:#888;">Kahitna</p>
                        </div>
                    </div>

                    <div class="music-card" onclick="playSong('musik4')">
                        <div class="disc-icon" style="animation-duration:4s;">üéπ</div>
                        <div>
                            <h4 style="color:#333;">monokrom</h4>
                            <p style="font-size:0.8rem; color:#888;">Tulus</p>
                        </div>
                    </div>
                    
                    <div class="now-playing-container">
                        <div class="vinyl-record" id="vinylRecord">
                            <div class="vinyl-label"></div>
                        </div>
                        <div class="now-playing-text" id="nowPlayingTitle">Select a song...</div>
                    </div>
                </div>

                <div id="letter" class="tab-content">
                     <div class="gingham-frame" style="transform:rotate(0deg); border-color:#bfdbfe;">
                         <div class="ribbon-deco" style="right:-10px; left:auto;">üíå</div>
                         <div class="photo-area" style="background:white; padding:20px;">
                            <h3 style="font-family:'Dancing Script'; font-size:1.8rem; margin-bottom:10px;">acacaaa,</h3>
                            <p id="typewriter-text" style="font-size:0.9rem; line-height:1.8; color: #555; min-height: 150px;">
                            </p>
                            <p style="text-align:right; margin-top:15px; font-weight:bold; color:#1e3a8a;">- Your Support System ^3^</p>
                         </div>
                     </div>
                </div>

            </div>

            <nav class="nav-bar">
                <button class="nav-btn active" onclick="switchTab('home', this)">üè†</button>
                <button class="nav-btn" onclick="switchTab('journal', this)">üìñ</button>
                <button class="nav-btn" onclick="switchTab('music', this)">üéµ</button>
                <button class="nav-btn" onclick="switchTab('letter', this)">üíå</button>
            </nav>
        </div>
    </div>

    <script>
        const PIN = "2010"; 
        let inputPin = "";
        
        function addPin(num) {
            if(inputPin.length < 4) {
                inputPin += num;
                updateDots();
            }
        }
        
        function clearPin() { inputPin = ""; updateDots(); }
        
        function updateDots() {
            document.getElementById('pinDisplay').innerText = "‚Ä¢".repeat(inputPin.length);
        }
        
        function checkPin() {
            if(inputPin === PIN) {
                document.getElementById('lockScreen').classList.add('hidden');
                document.getElementById('phoneCase').style.display = 'block';
                playSong('musik1');
                fireConfetti();
            } else {
                alert("PIN Salah! Coba: 2010");
                inputPin = ""; updateDots();
            }
        }

        let myFlipBook;

        // DATA LAGU 
        const songData = {
            'musik1': {
                title: "kita ke sana",
                file: "hindia.mp3"
            },
            'musik2': {
                title: "best day of my life",
                file: "musik2.mp3"
            },
            'musik3': {
                title: "Cantik",
                file: "musik3.mp3"
            },
            'musik4': {
                title: "monokrom", // Ganti sesuai keinginan
                file: "musik4.mp3"     // Pastikan file ada
            }
        };

        function playSong(songKey) {
            const audio = document.getElementById('bg-music');
            const source = document.getElementById('audio-source');
            const data = songData[songKey];
            
            const vinyl = document.getElementById('vinylRecord');
            const titleText = document.getElementById('nowPlayingTitle');

            document.querySelectorAll('.music-card').forEach(card => card.classList.remove('active-song'));

            if(data) {
                source.src = data.file;
                audio.load(); 
                audio.play().catch(e => console.log("Audio play blocked"));

                // Update Vinyl & Text
                vinyl.classList.add('spinning');
                titleText.innerText = "üéµ Playing: " + data.title;
            }
        }

        function toggleMusic() {
            const audio = document.getElementById('bg-music');
            const vinyl = document.getElementById('vinylRecord');
            
            if(audio.paused) {
                audio.play();
                vinyl.classList.add('spinning');
            } else {
                audio.pause();
                vinyl.classList.remove('spinning');
            }
        }

        // --- TEXT SURAT GENERAL FRIENDSHIP ---
        const letterText = "Happy Graduation Aca! üéì‚ú®\n\nPasti ga kerasa kan drama perkuliahan ini akhirnya kelar juga. Makasih dong ke aku karna udah jadi partner sambat selama ini ehehe bercandaaa.\n\nSemoga cepet dapet kerjaan yang cuannya gede (biar bisa traktir aku hihihi). Sukses terus ya!\n\nLove u! üíñ";
        let isTyping = false;

        function typeWriter() {
            const el = document.getElementById('typewriter-text');
            if(!el) return;
            el.innerHTML = "";
            let i = 0;
            isTyping = true;
            
            function type() {
                if (i < letterText.length) {
                    if(letterText.charAt(i) === '\n') {
                        el.innerHTML += '<br>';
                    } else {
                        el.innerHTML += letterText.charAt(i);
                    }
                    i++;
                    setTimeout(type, 30); 
                } else {
                    isTyping = false;
                }
            }
            type();
        }

        function switchTab(tabId, btnElement) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
            
            document.getElementById(tabId).classList.add('active');
            btnElement.classList.add('active');

            if(tabId === 'journal' && myFlipBook) {
                setTimeout(() => { myFlipBook.update(); }, 200);
            }

            if(tabId === 'letter') {
                typeWriter();
            }
        }

        function fireConfetti() {
            var duration = 2 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 999 };

            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) return clearInterval(interval);
                var particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: Math.random(), y: Math.random() - 0.2 } }));
            }, 250);
        }

        function showSurprise(msg) {
            const toast = document.getElementById('toast-box');
            toast.innerText = msg;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        document.addEventListener('DOMContentLoaded', () => {
            const el = document.getElementById('flipbook');
            // PENTING: UKURAN FIXED DIPERKECIL DIKIT BIAR GAK OVERFLOW
            myFlipBook = new St.PageFlip(el, {
                width: 260,    
                height: 380,   // Ukuran lebih kecil dikit dari 420 biar ga scroll
                size: 'fixed', 
                minWidth: 200,
                maxWidth: 300,
                minHeight: 300,
                maxHeight: 500,
                showCover: true,
                mobileScrollSupport: false 
            });
            
            const pages = document.querySelectorAll('.page');
            myFlipBook.loadFromHTML(pages);
        });
    </script>
</body>

</html>

